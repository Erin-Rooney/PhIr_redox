mutate(date_simple = recode(Date_collected, "6-Jul-21" = "Plot-1", "7-Jul-21" = "Plot-1",
"13-Jul-21" = "Plot-2", "14-Jul-21" = "Plot-2",
"24-Jul-21" = "Plot-3",
"30-Jul-21" = "Plot-4", "31-Jul-21" = "Plot-4",
"7-Aug-21" = "Plot-5")) %>%
mutate(label = paste0(date_simple, "-", Plot_num)) %>%
filter(Site != "Transect") %>%
mutate(Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
mutate(Horizon = factor(Horizon, levels = c("O", "O1", "O2", "O3", "M", "M1", "M2"))) %>%
dplyr::select(c(Area, Site, Horizon, soil_bulk_density_g_cm3, volumetric_water_content_cm3_cm3)) %>%
na.omit() %>%
group_by(Area, Site, Horizon) %>%
dplyr::summarise(mean_bd = round(mean(soil_bulk_density_g_cm3),2),
sd_bd = round(sd(soil_bulk_density_g_cm3),2),
mean_vwc = round(mean(volumetric_water_content_cm3_cm3),2),
sd_vwc = round(sd(volumetric_water_content_cm3_cm3),2)) %>%
dplyr::select(c(Area, Site, Horizon, mean_bd, sd_bd, mean_vwc, sd_vwc))
View(bdtest)
View(bdtest)
View(bdtest)
soil_properties_groupingfunction = function(dat){
dat %>%
mutate(label = Horizon) %>%
mutate(label = factor(label, levels = c("O", "O1", "O2", "O3", "M", "M1", "M2"))) %>%
mutate(date_simple = recode(Date_collected, "6-Jul-21" = "Plot-1", "7-Jul-21" = "Plot-1",
"13-Jul-21" = "Plot-2", "14-Jul-21" = "Plot-2",
"24-Jul-21" = "Plot-3",
"30-Jul-21" = "Plot-4", "31-Jul-21" = "Plot-4",
"7-Aug-21" = "Plot-5")) %>%
mutate(label = paste0(date_simple, "-", Plot_num)) %>%
filter(Site != "Transect") %>%
mutate(Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
mutate(Horizon = factor(Horizon, levels = c("O", "O1", "O2", "O3", "M", "M1", "M2"))) %>%
dplyr::select(c(Area, Site, Horizon, soil_bulk_density_g_cm3, volumetric_water_content_cm3_cm3)) %>%
na.omit() %>%
group_by(Area, Site, Horizon) %>%
dplyr::summarise(mean_bd = round(mean(soil_bulk_density_g_cm3),2),
sd_bd = round(sd(soil_bulk_density_g_cm3),2),
mean_vwc = round(mean(volumetric_water_content_cm3_cm3),2),
sd_vwc = round(sd(volumetric_water_content_cm3_cm3),2)) %>%
dplyr::select(c(Area, Site, Horizon, mean_bd, sd_bd, mean_vwc, sd_vwc))
}
#select only necessary columns, simplify date-plot labels, set levels for material/horizons and date-plots
bd_grouped = soil_properties_groupingfunction(bd_cleaned)
View(bd_grouped)
View(bd_grouped)
write.csv(redox_withdepths2021, "modeling-data-output-files/redox_withdepths2021.csv")
write.csv(redox_withdepths2022, "modeling-data-output-files/redox_withdepths2022.csv")
write.csv(redox_unfrozen_2021, "modeling-data-output-files/redox_unfrozen_2021.csv")
write.csv(redox_unfrozen_2022, "modeling-data-output-files/redox_unfrozen_2022.csv")
write.csv(redox_grouped_2021, "modeling-data-output-files/redox_grouped_2021.csv")
write.csv(redox_grouped_2022, "modeling-data-output-files/redox_grouped_2022.csv")
#Moisture Temperature Salinity
write.csv(temp_sal_moist2021, "modeling-data-output-files/temp_sal_moist2021.csv")
write.csv(temp_sal_moist2022, "modeling-data-output-files/temp_sal_moist2022.csv")
write.csv(moisturetempsal2021_cleaned, "modeling-data-output-files/moisturetempsal2021_cleaned.csv")
write.csv(moisturetempsal2022_cleaned, "modeling-data-output-files/moisturetempsal2022_cleaned.csv")
write.csv(moisturetempsal2021_grouped, "modeling-data-output-files/moisturetempsal2021_grouped.csv")
write.csv(moisturetempsal2022_grouped, "modeling-data-output-files/moisturetempsal2022_grouped.csv")
#Porewater data
write.csv(porewater_ICP_2021, "modeling-data-output-files/porewater_ICP_2021.csv")
write.csv(thaw_depths, "modeling-data-output-files/thaw_depths.csv")
write.csv(bd_grav, "modeling-data-output-files/bd_grav.csv")
write.csv(bd_cleaned, "modeling-data-output-files/bd_cleaned.csv")
write.csv(bd_grouped, "modeling-data-output-files/bd_grouped.csv")
write.csv(thawdepths_2021_cleaned, "modeling-data-output-files/thawdepths_2021_cleaned.csv")
write.csv(thawdepths_2022_cleaned, "modeling-data-output-files/thawdepths_2022_cleaned.csv")
rhizon_cleaning = function(dat){
dat %>%
filter(Site != 'Transect') %>%
mutate(ICP = recode(ICP, "Fe _ug/mL" = "Fe_ug/mL",
"K _ug/mL" = "K_ug/mL")) %>%
mutate(month = factor(month, levels = c("june", "july", "august")),
Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
mutate(concentration = recode(concentration, "<0.05" = "0.03",
"<0.1" = "0.05")) %>%
mutate(concentration = as.numeric(concentration))
}
rhizon_cleaningfunction = function(dat){
dat %>%
filter(Site != 'Transect') %>%
mutate(ICP = recode(ICP, "Fe _ug/mL" = "Fe_ug/mL",
"K _ug/mL" = "K_ug/mL")) %>%
mutate(month = factor(month, levels = c("june", "july", "august")),
Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
mutate(concentration = recode(concentration, "<0.05" = "0.03",
"<0.1" = "0.05")) %>%
mutate(concentration = as.numeric(concentration))
}
rhizon_cleaningfunction = function(dat){
dat %>%
filter(Site != 'Transect') %>%
mutate(ICP = recode(ICP, "Fe _ug/mL" = "Fe_ug/mL",
"K _ug/mL" = "K_ug/mL")) %>%
mutate(month = factor(month, levels = c("june", "july", "august")),
Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
mutate(concentration = recode(concentration, "<0.05" = "0.03",
"<0.1" = "0.05")) %>%
mutate(concentration = as.numeric(concentration))
}
porewater_ICP_2021_cleaned = rhizon_cleaningfunction(porewater_ICP_2021)
porewater_ICP_2021_cleaned = rhizon_cleaningfunction(porewater_ICP_2021)
knitr::opts_chunk$set(echo = TRUE)
redox_withdepths2022 = read.csv("processed/allcombine_2022_frozen.csv")
knitr::opts_chunk$set(echo = TRUE)
source("code/0-packages.R")
source("code/functions_for_modeldatacomparisons_dataexplainer.R")
porewater_ICP_2022 = read.csv("processed/ICP_2022.csv")
#rhizon samplers (only one depth)
porewater_ICP_2021 = read.csv("processed/rhizon_2021.csv")
porewater_ICP_2021_cleaned = rhizon_cleaningfunction(porewater_ICP_2021)
View(porewater_ICP_2021_cleaned)
View(porewater_ICP_2021_cleaned)
View(porewater_ICP_2021)
porewater_ICP_2021_cleaned %>%
filter(redox_avg_mV != "NA" & ICP %in% c("aluminum", "calcium", "iron", "phosphorus")) %>%
ggplot() +
geom_point(aes(x = redox_avg_mV, y = concentration, color = position, shape = site), size = 3, alpha = 0.75)+
labs(x = "redox potential, mV",
y = "concentration, ug, ml",
fill = "element",
color = "element")+
scale_fill_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
scale_color_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
facet_grid(ICP~position, scales = "free_y")+
theme_er1()+
theme(legend.position = "right")
porewater_ICP_2021_cleaned %>%
filter(redox_avg_mV != "NA" & ICP %in% c("Al_ug/mL", "Ca_ug/mL", "Fe_ug/mL", "P_ug/mL")) %>%
ggplot() +
geom_point(aes(x = redox_avg_mV, y = concentration, color = position, shape = site), size = 3, alpha = 0.75)+
labs(x = "redox potential, mV",
y = "concentration, ug, ml",
fill = "element",
color = "element")+
scale_fill_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
scale_color_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
facet_grid(ICP~position, scales = "free_y")+
theme_er1()+
theme(legend.position = "right")
porewater_ICP_2021_cleaned %>%
mutate(Area = recode(Area, "West" = "non-acidic tundra",
"East" = "acidic tundra")) %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
filter(ICP %in% c("Al_ug/mL", "Ca_ug/mL", "Fe_ug/mL", "P_ug/mL")) %>%
ggplot(aes(x = Betterdate, y = mean, color = Site, fill = Site)) +
#geom_point(size = 3, alpha = 0.7)+
geom_col(position = position_dodge2(width = 0.9, preserve = "single"), alpha = 0.8, color = "black")+
geom_errorbar(aes(ymin=mean-sd, ymax=mean+sd), width=.2,
position=position_dodge(.9), color = "black")+
labs(x = " ", y = "", color = "", fill = "")+
# scale_x_date(date_labels = "%b-%d")+
scale_color_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
scale_fill_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
# scale_color_manual(values = rev(natparks.pals(name = "Banff", 3.5)))+
# scale_fill_manual(values = rev(natparks.pals(name = "Banff", 3.5)))+
theme_er1()+
# theme(axis.text.x = element_text (size = 10 , vjust = 0.5, hjust=1, angle = 90))+
facet_grid(ICP ~ Area, switch = "y", scale = "free")+
theme(legend.position = "none", axis.text.x = element_text(angle = 45, vjust = 0.5, size = 11),
strip.placement = "outside", panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank())+
NULL
porewater_ICP_2021_cleaned %>%
mutate(Area = recode(Area, "West" = "non-acidic tundra",
"East" = "acidic tundra")) %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
filter(ICP %in% c("Al_ug/mL", "Ca_ug/mL", "Fe_ug/mL", "P_ug/mL")) %>%
ggplot(aes(x = Betterdate, y = concentration, color = Site, fill = Site)) +
#geom_point(size = 3, alpha = 0.7)+
geom_col(position = position_dodge2(width = 0.9, preserve = "single"), alpha = 0.8, color = "black")+
geom_errorbar(aes(ymin=mean-sd, ymax=mean+sd), width=.2,
position=position_dodge(.9), color = "black")+
labs(x = " ", y = "", color = "", fill = "")+
scale_color_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
scale_fill_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
theme_er1()+
facet_grid(ICP ~ Area, switch = "y", scale = "free")+
theme(legend.position = "none", axis.text.x = element_text(angle = 45, vjust = 0.5, size = 11),
strip.placement = "outside", panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank())+
NULL
rhizon_groupingfunction = function(dat){
dat %>%
group_by(Area, Site, month, Betterdate, ICP) %>%
dplyr::summarise(mean = mean(concentration),
n = n(),
sd = sd(concentration)/sqrt(n)) %>%
na.omit() %>%
mutate(combo = paste(Area, "-", Site)) %>%
mutate(Area = as.factor(Area)) %>%
mutate(month = factor(month, levels = c("june", "july", "august")),
Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
na.omit() %>%
mutate(area_site = paste(Area, Site, sep = "-"))
}
#grouping
porewater_ICP_2021_grouped = rhizon_groupingfunction(porewater_ICP_2021_cleaned)
porewater_ICP_2021_grouped %>%
mutate(Area = recode(Area, "West" = "non-acidic tundra",
"East" = "acidic tundra")) %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
filter(ICP %in% c("Al_ug/mL", "Ca_ug/mL", "Fe_ug/mL", "P_ug/mL")) %>%
ggplot(aes(x = Betterdate, y = mean, color = Site, fill = Site)) +
geom_col(position = position_dodge2(width = 0.9, preserve = "single"), alpha = 0.8, color = "black")+
geom_errorbar(aes(ymin=mean-sd, ymax=mean+sd), width=.2,
position=position_dodge(.9), color = "black")+
labs(x = " ", y = "", color = "", fill = "")+
scale_color_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
scale_fill_manual(values = c("#9a031e", "#a7c957", "#1e96fc"))+
theme_er1()+
facet_grid(ICP ~ Area, switch = "y", scale = "free")+
theme(legend.position = "none", axis.text.x = element_text(angle = 45, vjust = 0.5, size = 11),
strip.placement = "outside", panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank())+
NULL
porewater_ICP_2021_grouped %>%
mutate(Area = recode(Area, "West" = "non-acidic tundra",
"East" = "acidic tundra")) %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
filter(ICP %in% c("calcium")) %>%
# mutate(ICP = recode(ICP, "calcium" = "calcium μg/mL",
#                     "iron" = "iron μg/mL",
#                     "aluminum" = "aluminum μg/mL",
#                     "phosphorus" = "phosphorus μg/mL")) %>%
ggplot(aes(x = Betterdate, y = mean, color = Site)) +
geom_line(aes(group = area_site, linetype = Area), size = 0.7, orientation = "x")+
geom_point(aes(group = area_site, shape = Area), size = 3.5)+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
scale_color_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
labs(color = "Moisture",
linetype = "Acidity",
y = "Concentration μg/mL",
x = " ")+
facet_grid(. ~ ICP, scales = "free_y") +
theme_er1()+
theme(axis.text.x = element_text(size = 8, hjust=0.25,vjust=0.2,angle = 45), legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank())
porewater_ICP_2021_grouped %>%
mutate(Area = recode(Area, "West" = "non-acidic tundra",
"East" = "acidic tundra")) %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
filter(ICP %in% c("Ca_ug/mL")) %>%
# mutate(ICP = recode(ICP, "calcium" = "calcium μg/mL",
#                     "iron" = "iron μg/mL",
#                     "aluminum" = "aluminum μg/mL",
#                     "phosphorus" = "phosphorus μg/mL")) %>%
ggplot(aes(x = Betterdate, y = mean, color = Site)) +
geom_line(aes(group = area_site, linetype = Area), size = 0.7, orientation = "x")+
geom_point(aes(group = area_site, shape = Area), size = 3.5)+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
scale_color_manual(values = c("#f07167", "#a7c957", "#1e96fc", "#f07167", "#a7c957", "#1e96fc"))+
labs(color = "Moisture",
linetype = "Acidity",
y = "Concentration μg/mL",
x = " ")+
facet_grid(. ~ ICP, scales = "free_y") +
theme_er1()+
theme(axis.text.x = element_text(size = 8, hjust=0.25,vjust=0.2,angle = 45), legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank())
sipper_groupingfunction = function(dat){
dat %>%
pivot_wider(names_from = "ICP", values_from = "concentration") %>%
group_by(Area, Site, Depth_cm, date) %>%
dplyr::summarise(mean_Al_ug_mL = round(mean(Al_ug_mL),3),
mean_Ca_ug_mL = round(mean(Ca_ug_mL),3),
mean_K_ug_mL = round(mean(K_ug_mL),3),
mean_Mn_ug_mL = round(mean(Mn_ug_mL),3),
mean_Mg_ug_mL = round(mean(Mg_ug_mL),3),
mean_Na_ug_mL = round(mean(Na_ug_mL),3),
mean_P_ug_mL = round(mean(P_ug_mL),3),
mean_Fe_ug_mL = round(mean(Fe_ug_mL),3),
sd_Al_ug_mL = round(sd(Al_ug_mL),3),
sd_Ca_ug_mL = round(sd(Ca_ug_mL),3),
sd_K_ug_mL = round(sd(K_ug_mL),3),
sd_Mn_ug_mL = round(sd(Mn_ug_mL),3),
sd_Mg_ug_mL = round(sd(Mg_ug_mL),3),
sd_Na_ug_mL = round(sd(Na_ug_mL),3),
sd_P_ug_mL = round(sd(P_ug_mL),3),
sd_Fe_ug_mL = round(sd(Fe_ug_mL),3)
) %>%
separate(date, sep = "-", into =c('year', 'month', 'day')) %>%
mutate(month2 = recode(month, "06" = "June", "07" = "July", "08" = "August", "09" = "September")) %>%
mutate(date_plot = paste(month2, day, year, sep = "-")) %>%
mutate(date_plot = factor(date_plot, levels = c("June-27-2022", "June-29-2022", "July-06-2022",
"July-07-2022", "July-11-2022", "July-12-2022",
"July-18-2022", "July-19-2022", "July-25-2022",
"July-26-2022", "August-07-2022", "August-08-2022",
"September-15-2022","September-17-2022", "September-23-2022"))) %>%
mutate(area_site = paste(Area, Site, sep = "-"))
}
porewater_ICP_2022_grouped = sipper_groupingfunction(porewater_ICP_2022)
porewater_ICP_2022_grouped %>%
#filter(Area == "non-acidic tundra") %>%
ggplot(aes(x = mean_Fe_ug_mL, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean_Fe_ug_mL - sd_Fe_ug_mL), xmax=(mean_Fe_ug_mL + sd_Fe_ug_mL), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
View(porewater_ICP_2022_grouped)
test = porewater_ICP_2022 %>%
#pivot_wider(names_from = "ICP", values_from = "concentration") %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(ICP), 3),
sd = round(sd(ICP),3))
View(test)
test = porewater_ICP_2022 %>%
#pivot_wider(names_from = "ICP", values_from = "concentration") %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(concentration), 3),
sd = round(sd(concentration),3))
View(test)
test = porewater_ICP_2022 %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(concentration), 3),
sd = round(sd(concentration),3))
test = porewater_ICP_2022 %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(concentration), 3),
sd = round(sd(concentration),3)) %>%
separate(date, sep = "-", into =c('year', 'month', 'day')) %>%
mutate(month2 = recode(month, "06" = "June", "07" = "July", "08" = "August", "09" = "September"))
test = porewater_ICP_2022 %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(concentration), 3),
sd = round(sd(concentration),3)) %>%
separate(date, sep = "-", into =c('year', 'month', 'day')) %>%
mutate(month2 = recode(month, "06" = "June", "07" = "July", "08" = "August", "09" = "September")) %>%
mutate(date_plot = paste(month2, day, year, sep = "-")) %>%
mutate(date_plot = factor(date_plot, levels = c("June-27-2022", "June-29-2022", "July-06-2022",
"July-07-2022", "July-11-2022", "July-12-2022",
"July-18-2022", "July-19-2022", "July-25-2022",
"July-26-2022", "August-07-2022", "August-08-2022",
"September-15-2022","September-17-2022", "September-23-2022"))) %>%
mutate(area_site = paste(Area, Site, sep = "-"))
View(test)
sipper_groupingfunction = function(dat){
dat %>%
group_by(Area, Site, Depth_cm, date, ICP) %>%
dplyr::summarise(mean = round(mean(concentration), 3),
sd = round(sd(concentration),3)) %>%
separate(date, sep = "-", into =c('year', 'month', 'day')) %>%
mutate(month2 = recode(month, "06" = "June", "07" = "July", "08" = "August", "09" = "September")) %>%
mutate(date_plot = paste(month2, day, year, sep = "-")) %>%
mutate(date_plot = factor(date_plot, levels = c("June-27-2022", "June-29-2022", "July-06-2022",
"July-07-2022", "July-11-2022", "July-12-2022",
"July-18-2022", "July-19-2022", "July-25-2022",
"July-26-2022", "August-07-2022", "August-08-2022",
"September-15-2022","September-17-2022", "September-23-2022"))) %>%
mutate(area_site = paste(Area, Site, sep = "-"))
}
porewater_ICP_2022_grouped = sipper_groupingfunction(porewater_ICP_2022)
porewater_ICP_2022_grouped %>%
#filter(Area == "non-acidic tundra") %>%
ggplot(aes(x = mean_Fe_ug_mL, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean_Fe_ug_mL - sd_Fe_ug_mL), xmax=(mean_Fe_ug_mL + sd_Fe_ug_mL), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
porewater_ICP_2022_grouped %>%
filter(ICP == "Fe_ug_mL") %>%
ggplot(aes(x = concentration, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean_Fe_ug_mL - sd_Fe_ug_mL), xmax=(mean_Fe_ug_mL + sd_Fe_ug_mL), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
porewater_ICP_2022_grouped %>%
filter(ICP == "Fe_ug_mL") %>%
ggplot(aes(x = concentration, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(concentration - sd), xmax=(concentration + sd), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
porewater_ICP_2022_grouped %>%
filter(ICP == "Fe_ug_mL") %>%
ggplot(aes(x = mean, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean - sd), xmax=(mean + sd), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
porewater_ICP_2022_grouped %>%
filter(ICP == "Fe_ug_mL") %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
mutate(Area = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
ggplot(aes(x = mean, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean - sd), xmax=(mean + sd), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
porewater_ICP_2022_grouped %>%
filter(ICP == "Fe_ug_mL") %>%
mutate(Area = factor(Area, levels = c("non-acidic tundra", "acidic tundra"))) %>%
mutate(Site = factor(Site, levels = c("Dry", "Mesic", "Hydric"))) %>%
ggplot(aes(x = mean, y = Depth_cm, fill = date_plot, group = date_plot)) +
geom_errorbar(aes(xmin=(mean - sd), xmax=(mean + sd), color = date_plot))+
geom_point(size = 3.5, shape = c(21), alpha = 0.6)+
geom_line(aes(color = date_plot), orientation = "y", linetype = "longdash")+
# scale_fill_gradientn(colors = (pnw_palette("Shuksan2")))+
# scale_color_gradientn(colors = (pnw_palette("Shuksan2")))+
scale_fill_manual(values = (pnw_palette("Sunset2", 15)))+
scale_color_manual(values = (pnw_palette("Sunset2", 15)))+
labs(fill = "Date",
color = "Date",
y = "",
x = "Iron ug/mL")+
scale_y_reverse()+
scale_x_continuous(position = 'top') +
facet_grid(Site ~ Area, scales = "free_x")+
theme_er1()+
theme(legend.position = "none",
panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
panel.background = element_blank(),
strip.placement = "outside")
write.csv(porewater_ICP_2021_cleaned, "modeling-data-output-files/porewater_ICP_2021_cleaned.csv")
write.csv(porewater_ICP_2021_grouped, "modeling-data-output-files/porewater_ICP_2021_grouped.csv")
write.csv(porewater_ICP_2022_grouped, "modeling-data-output-files/porewater_ICP_2022_grouped.csv")
