filter(probe == "2" & sensor == "7")
westdry_depths_outliers_2_8 =
westdry_depths %>%
filter(probe == "2" & sensor == "8")
westdry_2_1_forcombine =
datacleaning_function(westdry_depths_outliers_2_1)
westdry_2_2_forcombine =
datacleaning_function(westdry_depths_outliers_2_2)
westdry_2_3_forcombine =
datacleaning_function(westdry_depths_outliers_2_3)
westdry_2_4_forcombine =
datacleaning_function(westdry_depths_outliers_2_4)
westdry_2_5_forcombine =
datacleaning_function(westdry_depths_outliers_2_5)
westdry_2_6_forcombine =
datacleaning_function(westdry_depths_outliers_2_6)
westdry_2_7_forcombine =
datacleaning_function(westdry_depths_outliers_2_7)
westdry_2_8_forcombine =
datacleaning_function(westdry_depths_outliers_2_8)
westdry_probe2_cleaned =
westdry_2_1_forcombine %>%
vctrs::vec_c(westdry_2_2_forcombine, westdry_2_3_forcombine,
westdry_2_4_forcombine, westdry_2_5_forcombine,
westdry_2_6_forcombine, westdry_2_7_forcombine,
westdry_2_8_forcombine)
westdry_depths_outliers_3_1 =
westdry_depths %>%
filter(probe == "3" & sensor == "1")
westdry_depths_outliers_3_2 =
westdry_depths %>%
filter(probe == "3" & sensor == "2")
westdry_depths_outliers_3_3 =
westdry_depths %>%
filter(probe == "3" & sensor == "3")
westdry_depths_outliers_3_4 =
westdry_depths %>%
filter(probe == "3" & sensor == "4")
westdry_depths_outliers_3_5 =
westdry_depths %>%
filter(probe == "3" & sensor == "5")
westdry_depths_outliers_3_6 =
westdry_depths %>%
filter(probe == "3" & sensor == "6")
westdry_depths_outliers_3_7 =
westdry_depths %>%
filter(probe == "3" & sensor == "7")
westdry_depths_outliers_3_8 =
westdry_depths %>%
filter(probe == "3" & sensor == "8")
westdry_3_1_forcombine =
datacleaning_function(westdry_depths_outliers_3_1)
westdry_3_2_forcombine =
datacleaning_function(westdry_depths_outliers_3_2)
westdry_3_3_forcombine =
datacleaning_function(westdry_depths_outliers_3_3)
westdry_3_4_forcombine =
datacleaning_function(westdry_depths_outliers_3_4)
westdry_3_5_forcombine =
datacleaning_function(westdry_depths_outliers_3_5)
westdry_3_6_forcombine =
datacleaning_function(westdry_depths_outliers_3_6)
westdry_3_7_forcombine =
datacleaning_function(westdry_depths_outliers_3_7)
westdry_3_8_forcombine =
datacleaning_function(westdry_depths_outliers_3_8)
westdry_probe3_cleaned =
westdry_3_1_forcombine %>%
vctrs::vec_c(westdry_3_2_forcombine, westdry_3_3_forcombine,
westdry_3_4_forcombine, westdry_3_5_forcombine,
westdry_3_6_forcombine, westdry_3_7_forcombine,
westdry_3_8_forcombine)
eastdry_depths_outliers_1_1 =
eastdry_depths %>%
filter(probe == "1" & sensor == "1")
eastdry_depths_outliers_1_2 =
eastdry_depths %>%
filter(probe == "1" & sensor == "2")
eastdry_depths_outliers_1_3 =
eastdry_depths %>%
filter(probe == "1" & sensor == "3")
eastdry_depths_outliers_1_4 =
eastdry_depths %>%
filter(probe == "1" & sensor == "4")
eastdry_depths_outliers_1_5 =
eastdry_depths %>%
filter(probe == "1" & sensor == "5")
eastdry_depths_outliers_1_6 =
eastdry_depths %>%
filter(probe == "1" & sensor == "6")
eastdry_depths_outliers_1_7 =
eastdry_depths %>%
filter(probe == "1" & sensor == "7")
eastdry_depths_outliers_1_8 =
eastdry_depths %>%
filter(probe == "1" & sensor == "8")
eastdry_1_1_forcombine =
datacleaning_function(eastdry_depths_outliers_1_1)
eastdry_1_2_forcombine =
datacleaning_function(eastdry_depths_outliers_1_2)
eastdry_1_3_forcombine =
datacleaning_function(eastdry_depths_outliers_1_3)
eastdry_1_4_forcombine =
datacleaning_function(eastdry_depths_outliers_1_4)
eastdry_1_5_forcombine =
datacleaning_function(eastdry_depths_outliers_1_5)
eastdry_1_6_forcombine =
datacleaning_function(eastdry_depths_outliers_1_6)
eastdry_1_7_forcombine =
datacleaning_function(eastdry_depths_outliers_1_7)
eastdry_1_8_forcombine =
datacleaning_function(eastdry_depths_outliers_1_8)
eastdry_probe1_cleaned =
eastdry_1_1_forcombine %>%
vctrs::vec_c(eastdry_1_2_forcombine, eastdry_1_3_forcombine,
eastdry_1_4_forcombine, eastdry_1_5_forcombine,
eastdry_1_6_forcombine, eastdry_1_7_forcombine,
eastdry_1_8_forcombine)
eastdry_depths_outliers_2_1 =
eastdry_depths %>%
filter(probe == "2" & sensor == "1")
eastdry_depths_outliers_2_2 =
eastdry_depths %>%
filter(probe == "2" & sensor == "2")
eastdry_depths_outliers_2_3 =
eastdry_depths %>%
filter(probe == "2" & sensor == "3")
eastdry_depths_outliers_2_4 =
eastdry_depths %>%
filter(probe == "2" & sensor == "4")
eastdry_depths_outliers_2_5 =
eastdry_depths %>%
filter(probe == "2" & sensor == "5")
eastdry_depths_outliers_2_6 =
eastdry_depths %>%
filter(probe == "2" & sensor == "6")
eastdry_depths_outliers_2_7 =
eastdry_depths %>%
filter(probe == "2" & sensor == "7")
eastdry_depths_outliers_2_8 =
eastdry_depths %>%
filter(probe == "2" & sensor == "8")
eastdry_2_1_forcombine =
datacleaning_function(eastdry_depths_outliers_2_1)
eastdry_2_2_forcombine =
datacleaning_function(eastdry_depths_outliers_2_2)
eastdry_2_3_forcombine =
datacleaning_function(eastdry_depths_outliers_2_3)
eastdry_2_4_forcombine =
datacleaning_function(eastdry_depths_outliers_2_4)
eastdry_2_5_forcombine =
datacleaning_function(eastdry_depths_outliers_2_5)
eastdry_2_6_forcombine =
datacleaning_function(eastdry_depths_outliers_2_6)
eastdry_2_7_forcombine =
datacleaning_function(eastdry_depths_outliers_2_7)
eastdry_2_8_forcombine =
datacleaning_function(eastdry_depths_outliers_2_8)
eastdry_probe2_cleaned =
eastdry_2_1_forcombine %>%
vctrs::vec_c(eastdry_2_2_forcombine, eastdry_2_3_forcombine,
eastdry_2_4_forcombine, eastdry_2_5_forcombine,
eastdry_2_6_forcombine, eastdry_2_7_forcombine,
eastdry_2_8_forcombine)
eastdry_depths_outliers_3_1 =
eastdry_depths %>%
filter(probe == "3" & sensor == "1")
eastdry_depths_outliers_3_2 =
eastdry_depths %>%
filter(probe == "3" & sensor == "2")
eastdry_depths_outliers_3_3 =
eastdry_depths %>%
filter(probe == "3" & sensor == "3")
eastdry_depths_outliers_3_4 =
eastdry_depths %>%
filter(probe == "3" & sensor == "4")
eastdry_depths_outliers_3_5 =
eastdry_depths %>%
filter(probe == "3" & sensor == "5")
eastdry_depths_outliers_3_6 =
eastdry_depths %>%
filter(probe == "3" & sensor == "6")
eastdry_depths_outliers_3_7 =
eastdry_depths %>%
filter(probe == "3" & sensor == "7")
eastdry_depths_outliers_3_8 =
eastdry_depths %>%
filter(probe == "3" & sensor == "8")
eastdry_3_1_forcombine =
datacleaning_function(eastdry_depths_outliers_3_1)
eastdry_3_2_forcombine =
datacleaning_function(eastdry_depths_outliers_3_2)
eastdry_3_3_forcombine =
datacleaning_function(eastdry_depths_outliers_3_3)
eastdry_3_4_forcombine =
datacleaning_function(eastdry_depths_outliers_3_4)
eastdry_3_5_forcombine =
datacleaning_function(eastdry_depths_outliers_3_5)
eastdry_3_6_forcombine =
datacleaning_function(eastdry_depths_outliers_3_6)
eastdry_3_7_forcombine =
datacleaning_function(eastdry_depths_outliers_3_7)
eastdry_3_8_forcombine =
datacleaning_function(eastdry_depths_outliers_3_8)
eastdry_probe3_cleaned =
eastdry_3_1_forcombine %>%
vctrs::vec_c(eastdry_3_2_forcombine, eastdry_3_3_forcombine,
eastdry_3_4_forcombine, eastdry_3_5_forcombine,
eastdry_3_6_forcombine, eastdry_3_7_forcombine,
eastdry_3_8_forcombine)
alldata_cleaned =
westhydric_probe1_cleaned %>%
combine(westhydric_probe2_cleaned, westhydric_probe3_cleaned,
easthydric_probe1_cleaned, easthydric_probe2_cleaned,
easthydric_probe3_cleaned, eastmesic_probe1_cleaned,
eastmesic_probe2_cleaned, eastmesic_probe3_cleaned,
westmesic_probe1_cleaned, westmesic_probe2_cleaned,
westmesic_probe3_cleaned, eastdry_probe1_cleaned,
eastdry_probe2_cleaned, eastdry_probe3_cleaned,
westdry_probe1_cleaned, westdry_probe2_cleaned, westdry_probe3_cleaned,
)
alldata_cleaned =
westhydric_probe1_cleaned %>%
vctrs::vec_c(westhydric_probe2_cleaned, westhydric_probe3_cleaned,
easthydric_probe1_cleaned, easthydric_probe2_cleaned,
easthydric_probe3_cleaned, eastmesic_probe1_cleaned,
eastmesic_probe2_cleaned, eastmesic_probe3_cleaned,
westmesic_probe1_cleaned, westmesic_probe2_cleaned,
westmesic_probe3_cleaned, eastdry_probe1_cleaned,
eastdry_probe2_cleaned, eastdry_probe3_cleaned,
westdry_probe1_cleaned, westdry_probe2_cleaned, westdry_probe3_cleaned,
)
View(alldata_cleaned)
write.csv(alldata_cleaned, "processed/all_combine.csv")
source("code/0-packages.R")
combo_redox_withdepths = read.csv("processed/all_combine.csv")
combo_redox_withdepths %>%
na.omit() %>%
ggplot(aes(x = as.Date(Betterdate), y = depth_cm, fill = avg_values_summarised))+
geom_bar(position = "stack", stat= "identity")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradient2(low = "blue", high = "red", mid = "yellow", midpoint = 0)+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90))+
facet_grid(position~site)
combo_redox_withdepths %>%
na.omit() %>%
ggplot(aes(x = as.Date(Betterdate), y = depth_cm, fill = avg_values_fixed))+
geom_bar(position = "stack", stat= "identity")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradient2(low = "blue", high = "red", mid = "yellow", midpoint = 0)+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90))+
facet_grid(position~site)
redox_fig =
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, volts")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = rev(PNWColors::pnw_palette("Sunset2")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
combo_redox_withdepths_bins =
combo_redox_withdepths %>%
mutate(depth_bins = cut_width(depth_cm, width = 4, center=2)) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "]","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "[","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "(","")) %>%
# now separate this into two different columns
separate(depth_bins, sep = ",", into = c("depth_start_cm", "depth_stop_cm")) %>%
mutate(depth_start_cm = as.integer(depth_start_cm),
depth_stop_cm = as.integer(depth_stop_cm)) %>%
mutate(depth2 = depth_stop_cm - depth_start_cm)
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, volts")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = rev(PNWColors::pnw_palette("Sunset2")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = rev(PNWColors::pnw_palette("Sunset2")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
redox_fig =
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = rev(PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = rev(PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Sunset2")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
redox_fig =
combo_redox_withdepths_bins %>%
mutate(position = factor(position, levels = c("dry", "mesic", "hydric"))) %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
ggsave("output/redox.tiff", plot = redox_fig, height = 6, width = 8)
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(position~site)
redox_hydric_fig =
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(site~position)
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")+
facet_grid(site~position)
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
facet_grid(site~position)+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")
redox_hydric_fig =
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
facet_grid(site~position)+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "bottom")
ggsave("output/redoxhydric.tiff", plot = redox_fig, height = 5.5, width = 6)
redox_hydric_fig =
combo_redox_withdepths_bins %>%
filter(position == "hydric") %>%
na.omit() %>%
ggplot(aes(xmin = (as.Date(Betterdate))-0.4, xmax = (as.Date(Betterdate))+0.4, ymin = depth_start_cm, ymax = depth_stop_cm, fill = avg_values_fixed))+
geom_rect()+
labs(y = "depth, cm",
fill = "redox potential, mV")+
scale_x_date(date_breaks = "1 week" , date_labels = "%Y-%m-%d")+
scale_y_reverse()+
scale_fill_gradientn(colors = (PNWColors::pnw_palette("Anemone")))+
facet_grid(site~position)+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90), legend.position = "top")
ggsave("output/redoxhydric.tiff", plot = redox_fig, height = 5.5, width = 8)
ggsave("output/redoxhydric.tiff", plot = redox_hydric_fig, height = 5.5, width = 8)
ggsave("output/redoxhydric.tiff", plot = redox_hydric_fig, height = 5.5, width = 6)
temporary_fig =
combo_redox_withdepths_bins %>%
#filter(type == "temp_avg" & depth > 20) %>%
ggplot(aes(x = Betterdate, y = avg_values_fixed))+
geom_point(aes(color = depth_cm), alpha = 0.5)+
geom_line(aes(group = depth_cm, color = depth_cm, orientation = "x"))+
scale_color_gradientn(colors = natparks.pals(name = "KingsCanyon", 8))+
#scale_x_date(date_breaks = "1 day" , date_labels = "%Y-%m-%d")+
#scale_x_discrete(breaks = seq(-1,31,2))+
labs(y = "redox potential, mV")+
facet_wrap(site~position)+
theme_er1()+
theme(axis.text.x = element_text (size = 10 , vjust = 0.5, hjust=1, angle = 90))
combo_redox_withdepths_bins %>%
#filter(type == "temp_avg" & depth > 20) %>%
ggplot(aes(x = Betterdate, y = avg_values_fixed))+
geom_point(aes(color = depth_cm), alpha = 0.5)+
geom_line(aes(group = depth_cm, color = depth_cm, orientation = "x"))+
scale_color_gradientn(colors = natparks.pals(name = "KingsCanyon", 8))+
#scale_x_date(date_breaks = "1 day" , date_labels = "%Y-%m-%d")+
#scale_x_discrete(breaks = seq(-1,31,2))+
labs(y = "redox potential, mV")+
facet_wrap(site~position)+
theme_er1()+
theme(axis.text.x = element_text (size = 10 , vjust = 0.5, hjust=1, angle = 90))
temporary_fig_all =
combo_redox_withdepths_bins %>%
#filter(type == "temp_avg" & depth > 20) %>%
ggplot(aes(x = Betterdate, y = avg_values_fixed))+
geom_point(aes(color = depth_cm), alpha = 0.5)+
geom_line(aes(group = depth_cm, color = depth_cm, orientation = "x"))+
scale_color_gradientn(colors = natparks.pals(name = "KingsCanyon", 8))+
#scale_x_date(date_breaks = "1 day" , date_labels = "%Y-%m-%d")+
#scale_x_discrete(breaks = seq(-1,31,2))+
labs(y = "redox potential, mV")+
facet_wrap(site~position)+
theme_er1()+
theme(axis.text.x = element_text (size = 10 , vjust = 0.5, hjust=1, angle = 90))
ggsave("output/temporary_fig_cleaned_all.png", plot = temporary_fig_all, width = 20, height = 10)
temporary_fig_eastmesic =
alldata_cleaned %>%
filter(position == "mesic" & site == "east") %>%
ggplot(aes(x = Betterdate, y = avg_values_fixed))+
geom_point(aes(color = depth_cm), alpha = 0.5)+
geom_line(aes(group = depth_cm, color = depth_cm, orientation = "x"))+
scale_color_gradientn(colors = natparks.pals(name = "KingsCanyon", 8))+
#scale_x_date(date_breaks = "1 day" , date_labels = "%Y-%m-%d")+
#scale_x_discrete(breaks = seq(-1,31,2))+
labs(y = "redox potential, mV")+
facet_wrap(site~position)+
theme_er1()+
theme(axis.text.x = element_text (size = 10 , vjust = 0.5, hjust=1, angle = 90))
