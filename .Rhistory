scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 60)+
labs(x = "", y = "soil moisture (%)",
color = "depth (cm)", fill = "depth (cm)")+
#facet_grid(position~site)+
theme_er1()+
theme(legend.position = "left", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
final_temp_sal_moist_forfig %>%
filter(depth_cm == 25 & position == "hydric") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = moisture), color = c("#c8b6ff"), size = 1)+
geom_line(aes(y = temp*10), size = 0.8)+
labs(subtitle = "Hydric")+
scale_x_datetime(date_breaks = "1 week" , date_labels = "%b-%d")+
scale_y_continuous(name = "Soil Moisture, (purple line)",
sec.axis = sec_axis(~./10, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(.~site, scales="free")
final_temp_sal_moist_forfig %>%
filter(position == c("dry", "hydric")) %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = moisture), color = c("#c8b6ff"), size = 1)+
geom_line(aes(y = temp*10), size = 0.8)+
labs(subtitle = "Hydric")+
scale_x_datetime(date_breaks = "1 week" , date_labels = "%b-%d")+
scale_y_continuous(name = "Soil Moisture, (purple line)",
sec.axis = sec_axis(~./10, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(depth_cm~position, scales="free")
final_temp_sal_moist_forfig %>%
filter(position == c("hydric")) %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = moisture), color = c("#c8b6ff"), size = 1)+
geom_line(aes(y = temp*10), size = 0.8)+
labs(subtitle = "Hydric")+
scale_x_datetime(date_breaks = "1 week" , date_labels = "%b-%d")+
scale_y_continuous(name = "Soil Moisture, (purple line)",
sec.axis = sec_axis(~./10, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(depth_cm~position, scales="free")
filter(depth_cm == 25) %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = moisture))+
scale_x_datetime(date_breaks = "1 week")+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site)
final_temp_sal_moist_forfig %>%
filter(depth_cm == 25) %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = moisture))+
scale_x_datetime(date_breaks = "1 week")+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site)
final_temp_sal_moist_forfig %>%
filter(depth_cm == 25 & position == "hydric") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = temp, color = site))+
scale_x_datetime(date_breaks = "1 day")+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")
dualplot_temp_moist_airtemp =
final_temp_sal_moist_forfig %>%
left_join(climate_1hr_data_airtemp_cleaned)
dualplot_temp_moist =
final_temp_sal_moist_forfig %>%
left_join(climate_1hr_data_cleaned)
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(.~site, scales="free")
coeff <- 2
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(.~site, scales="free")
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(.~site, scales="free")
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free")
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature (black line)"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
non-acidic_hydric_dual_temps =
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature (black line)"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
non_acidic_hydric_dual_temps =
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature (black line)"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
ggsave("output/non_acidic_hydric_dual_temps.png", plot = non_acidic_hydric_dual_temps, width = 8, height = 5)
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "dry" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature (black line)"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
non_acidic_dry_dual_temps =
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "dry" & site == "non-acidic tundra") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
geom_line(aes(y = temp*coeff), size = 0.8)+
labs(x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
scale_y_continuous(name = "Air Temperature (light blue line)",
sec.axis = sec_axis(~./coeff, name = "Soil Temperature (black line)"))+
theme_er1()+
#theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(position~site, scales="free") +
theme(legend.position = "bottom", axis.text.x = element_text(vjust = 0.5, hjust=1, angle = 90, size = 9),
strip.placement = "outside")
ggsave("output/non_acidic_dry_dual_temps.png", plot = non_acidic_dry_dual_temps, width = 8, height = 5)
View(dualplot_temp_moist_airtemp)
dualplot_temp_moist_airtemp %>%
filter(depth_cm == 25 & position == "hydric") %>%
ggplot(aes(x = datetime))+
geom_line(aes(y = air_temp_3m_avg), color = c("#4cc9f0"), size = 1)+
#geom_line(aes(y = temp*coeff), size = 0.8)+
labs(subtitle = "Hydric", x = "Date",
caption = "depth = 25 cm")+
scale_x_datetime(date_breaks = "1 week")+
# scale_y_continuous(name = "Air Temperature (light blue line)",
#                    sec.axis = sec_axis(~./coeff, name = "Soil Temperature"))+
theme_er1()+
theme(axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9), legend.position = "bottom")+
facet_grid(.~site, scales="free")
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
#filter(position == "hydric" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 0.5, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
View(final_temp_sal_moist_forfig)
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
filter(position == "hydric" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 0.5, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
filter(position == "hydric" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 1, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
nonacidic_hydric_soiltemperature_fig =
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
filter(position == "hydric" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 1, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
ggsave("figures_finalized/nonacidic_hydric_soiltemperature_fig.png", plot = nonacidic_hydric_soiltemperature_fig, width = 6, height = 4)
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
filter(position == "dry" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 1, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
nonacidic_dry_soiltemperature_fig =
final_temp_sal_moist_forfig %>%
mutate(depth_2 = factor(depth_cm, levels = c("5", "15", "25")))   %>%
filter(position == "dry" & site == "non-acidic tundra") %>%
mutate(site = factor(site, levels = c("non-acidic tundra", "acidic tundra"))) %>%
ggplot(aes(y = temp, x = datetime, group = 'depth_cm'))+
#geom_rect(aes(xmin=as_datetime('2021-06-24 17:00:00'), xmax= as_datetime('2021-09-17 10:15:00'), ymin=100, ymax=300), fill = "grey", alpha = 0.5)+
geom_point(aes(color = depth_2, fill = depth_2), size = 1, alpha = 0.6, shape = c(21))+
#annotate(xmin='2021-06-21 00:15:00', xmax='2021-09-20 00:15:00', ymin=100, ymax=300, geom='rect', color='grey', alpha=0.5)+
#geom_line(orientation = "x", show.legend = FALSE)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
scale_color_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
scale_fill_manual(values = rev(c("#ffd60a","#EDA24E", "#9b2226")))+
ylim(0, 25)+
labs(x = "", y = "soil temperature (C)",
color = "depth (cm)", fill = "depth (cm)")+
facet_grid(position~site, scales = "free_x")+
theme_er1()+
theme(legend.position = "bottom", axis.text.x = element_text (vjust = 0.5, hjust=1, angle = 90, size = 9))
ggsave("figures_finalized/nonacidic_dry_soiltemperature_fig.png", plot = nonacidic_dry_soiltemperature_fig, width = 6, height = 4)
August_temp = read.csv("raw/TUAA2_August_temp_2022.csv")
source("code/0-packages.R")
July_temp = read.csv("raw/TUAA2_July_temp_2022.csv")
June_temp = read.csv("raw/TUAA2_June_temp_2022.csv")
View(August_temp)
View(July_temp)
August_temp = read.csv("raw/TUAA2_August_temp_2022.csv")
July_temp = read.csv("raw/TUAA2_July_temp_2022.csv")
June_temp = read.csv("raw/TUAA2_June_temp_2022.csv")
View(August_temp)
all_temps =
June_temp %>%
combine(July_temp, June_temp)
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp)
View(all_temps)
August_temp = read.csv("raw/TUAA2_August_temp_2022.csv")
July_temp = read.csv("raw/TUAA2_July_temp_2022.csv")
June_temp = read.csv("raw/TUAA2_June_temp_2022.csv")
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp)
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp) %>%
mutate(airtemp_C = (air_temp_set_1_F - 32) *(5/9))
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp) %>%
mutate(airtemp_C = round((air_temp_set_1_F - 32) *(5/9),2))
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp) %>%
mutate(airtemp_C = round((air_temp_set_1_F - 32) *(5/9),2)) %>%
separate(Date_Time, sep = " ", into = c("date2", "time")) %>%
separate(date2, sep = "/", into =c('month', 'day', 'year')) %>%
mutate(date = as.Date(paste(year, month, day, sep = "-"))) %>%
mutate(datetime = ymd_hm(paste(date, time)),
date = ymd(date))
all_temps =
June_temp %>%
vctrs::vec_c(July_temp, August_temp) %>%
mutate(airtemp_C = round((air_temp_set_1_F - 32) *(5/9),2)) %>%
separate(Date_Time, sep = " ", into = c("date2", "time", "UTC")) %>%
separate(date2, sep = "/", into =c('month', 'day', 'year')) %>%
mutate(date = as.Date(paste(year, month, day, sep = "-"))) %>%
mutate(datetime = ymd_hm(paste(date, time)),
date = ymd(date))
airtemp_2022 =
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 3, alpha = 0.4, shape = c(21))+
geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 3, alpha = 0.4, shape = c(21))+
geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4, shape = c(21))+
geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
#geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
airtemp_2022 =
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
#geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
#geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius", x = 0)+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
#geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius", x = "")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
ggsave("output/airtemp_2022.png", plot = airtemp_2022, height = 4, width = 11)
airtemp_2022 =
all_temps %>%
ggplot(aes(y = airtemp_C, x = datetime))+
geom_point(size = 1, alpha = 0.4)+
scale_x_datetime(date_breaks = "1 week", date_labels = "%b-%d")+
#geom_line(orientation = "x", show.legend = FALSE)+
labs(y = "Air temperature, celsius", x = "")+
#scale_x_continuous(position="top")+
#facet_grid(.~site, switch = "x")  +
theme_er1()
ggsave("output/airtemp_2022.png", plot = airtemp_2022, height = 4, width = 11)
source("code/0-packages.R")
A_samples = read.csv("raw/PhIr_2022_Asamples_IDlist.csv")
A_samples_merged =
A_samples %>%
mutate(year_id = paste(year, "_", id))
View(A_samples_merged)
A_samples_merged =
A_samples %>%
mutate(year_id = paste(year, "_", id)) %>%
mutate(sampleID = paste0(proj, year_id, analysis))
View(A_samples_merged)
A_samples_merged =
A_samples %>%
mutate(year_id = paste(year, "_", id)) %>%
mutate(sampleID = paste0(proj, year_id, analysis, sep=""))
View(A_samples_merged)
A_samples_merged =
A_samples %>%
mutate(year_id = paste0(year, "_", id, sep = "")) %>%
mutate(sampleID = paste0(proj, year_id, analysis, sep=""))
write.csv(A_samples_merged, "processed/A_samplelist_2022.csv")
