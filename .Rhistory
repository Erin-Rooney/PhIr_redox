mutate(Sensor = str_remove(Sensor, "redox_")) %>%
mutate(Sensor = str_remove(Sensor, "_fromtip_Avg")) %>%
separate(Sensor, sep = "_", into = c("datalogger", "probe_sensor")) %>%
separate(probe_sensor, sep = "-", into = c("probe", "sensor")) %>%
mutate(sensor = as.numeric(sensor)) %>%
mutate(depth_cm = str_replace(depth_cm, "n.a.", "NA")) %>%
mutate(depth_cm = as.numeric(depth_cm)) %>%
na.omit()
depths_function <- function(dat){
dat %>%
mutate(redox_avg = recode(redox_avg, 'redox_5.2.3_fromtip_Avg' = "redox_5_2_3_fromtip_Avg")) %>%
mutate(redox_avg = str_remove(redox_avg, "Redox_")) %>%
mutate(redox_avg = str_remove(redox_avg, "redox_")) %>%
mutate(redox_avg = str_remove(redox_avg, "_fromtip_Avg")) %>%
separate(redox_avg, sep = "_", into = c("datalogger", "probe_sensor")) %>%
filter(datalogger != "NUM") %>%
dplyr::select(-redox_NUM_Avg) %>%
mutate(probe_sensor = recode(probe_sensor, "1.8" = "1_8", "1.7" = "1_7", "1.6" = "1_6", "1.5" = "1_5", "1.4" = "1_4", "1.3" = "1_3", "1.2" = "1_2", "1.1" = "1_1",
"2.8" = "2_8", "2.7" = "2_7", "2.6" = "2_6", "2.5" = "2_5", "2.4" = "2_4", "2.3" = "2_3", "2.2" = "2_2", "2.1" = "2_1",
"3.8" = "3_8", "3.7" = "3_7", "3.6" = "3_6", "3.5" = "3_5", "3.4" = "3_4", "3.3" = "3_3", "3.2" = "3_2", "3.1" = "3_1")) %>%
separate(probe_sensor, sep = "_", into = c("probe", "sensor")) %>%
mutate(sensor = as.numeric(sensor)) %>%
left_join(sensor_depths) %>%
group_by(site, position, depth_cm, Betterdate) %>%
dplyr::summarize(avg_values_summarised = mean(avg_values),
std_values_summarised = sd(avg_values)/sqrt(n())) %>%
mutate(depth_cm = as.numeric(depth_cm)) %>%
force()
}
westhydric_depths =
depths_function(westhydric_avg)
View(westhydric_depths)
westhydric_depths =
depths_function(westhydric_avg)
easthydric_depths =
depths_function(easthydric_avg) %>%
na.omit()
westmesic_depths =
depths_function(westmesic_avg)
eastmesic_depths =
depths_function(eastmesic_avg)
westdry_depths =
depths_function(westdry_avg)
eastdry_depths =
depths_function(eastdry_avg) %>%
na.omit()
all_combine_depthbins =
westhydric_depths %>%
bind_rows(easthydric_depths, westmesic_depths, eastmesic_depths, westdry_depths, eastdry_depths) %>%
mutate(depth_bins = case_when(depth_cm <= 100 ~ cut_width(depth_cm, width = 1, center = 1))) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "]","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "[","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "(","")) %>%
# now separate this into two different columns
separate(depth_bins, sep = ",", into = c("depth_start_cm", "depth_stop_cm")) %>%
mutate(depth_start_cm = as.integer(depth_start_cm),
depth_stop_cm = as.integer(depth_stop_cm)) %>%
mutate(depth2 = depth_stop_cm - depth_start_cm)
all_combine =
westhydric_depths %>%
bind_rows(easthydric_depths, westmesic_depths, eastmesic_depths, westdry_depths, eastdry_depths)
View(all_combine)
eastdry_depths =
depths_function(eastdry_avg) %>%
na.omit()
westhydric_depths =
depths_function(westhydric_avg)%>%
na.omit()
easthydric_depths =
depths_function(easthydric_avg) %>%
na.omit()
westmesic_depths =
depths_function(westmesic_avg)%>%
na.omit()
eastmesic_depths =
depths_function(eastmesic_avg)%>%
na.omit()
westdry_depths =
depths_function(westdry_avg)%>%
na.omit()
eastdry_depths =
depths_function(eastdry_avg) %>%
na.omit()
all_combine_depthbins =
westhydric_depths %>%
bind_rows(easthydric_depths, westmesic_depths, eastmesic_depths, westdry_depths, eastdry_depths) %>%
mutate(depth_bins = case_when(depth_cm <= 100 ~ cut_width(depth_cm, width = 1, center = 1))) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "]","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "[","")) %>%
mutate(depth_bins = stringi::stri_replace_all_fixed(depth_bins, "(","")) %>%
# now separate this into two different columns
separate(depth_bins, sep = ",", into = c("depth_start_cm", "depth_stop_cm")) %>%
mutate(depth_start_cm = as.integer(depth_start_cm),
depth_stop_cm = as.integer(depth_stop_cm)) %>%
mutate(depth2 = depth_stop_cm - depth_start_cm)
all_combine =
westhydric_depths %>%
bind_rows(easthydric_depths, westmesic_depths, eastmesic_depths, westdry_depths, eastdry_depths)
View(all_combine)
write.csv(all_combine, "processed/all_combine.csv")
write.csv(all_combine_depthbins, "processed/all_combine_depthbins.csv")
source("code/0-packages.R")
westhydric_dlname = read.csv("processed/westhydric_dlname.csv")
easthydric_dlname = read.csv("processed/easthydric_dlname.csv")
westmesic_dlname = read.csv("processed/westmesic_dlname.csv")
eastmesic_dlname = read.csv("processed/eastmesic_dlname.csv")
westdry_dlname = read.csv("processed/westdry_dlname.csv")
eastdry_dlname = read.csv("processed/eastdry_dlname.csv")
westhydric_metadata = read.csv("processed/westhydric_metadata.csv")
easthydric_metadata = read.csv("processed/easthydric_metadata.csv")
westmesic_metadata = read.csv("processed/westmesic_metadata.csv")
eastmesic_metadata = read.csv("processed/eastmesic_metadata.csv")
westdry_metadata = read.csv("processed/westdry_metadata.csv")
eastdry_metadata = read.csv("processed/eastdry_metadata.csv")
View(eastdry_dlname)
moisture_separate <- function(dat){
dat %>%
mutate(redox_NUM_Avg = X) %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg')) %>%
#if needed, get rid of NA rows then columns. Not needed.
# filter(redox_NUM_Avg < 5989) %>%
# select_if(~ !any(is.na(.))) %>%
force()
}
westhydric_avg =
avg_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'moisture_NUM_Avg') %>%
pivot_longer(-c("moisture_NUM_Avg", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = "moisture_avg", values_to = "avg_values")
westhydric_avg =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'moisture_NUM_Avg') %>%
pivot_longer(-c("moisture_NUM_Avg", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = "moisture_avg", values_to = "avg_values")
westhydric_avg_test =
westhydric_dlname %>%
mutate(moisture_NUM_Avg = X) %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
View(westhydric_avg_test)
View(westhydric_dlname)
westhydric_avg_test =
westhydric_dlname %>%
mutate(moisture_NUM_Avg = 'X.1') %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
westhydric_avg_test =
westhydric_dlname %>%
rename(moisture_NUM_Avg = 'X.1') %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
dat %>%
dplyr::rename(moisture_NUM_Avg = 'X.1') %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg')) %>%
#if needed, get rid of NA rows then columns. Not needed.
# filter(redox_NUM_Avg < 5989) %>%
# select_if(~ !any(is.na(.))) %>%
force()
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename(moisture_NUM_Avg = 'X.1') %>%
dplyr::select(-X) %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename(moisture_NUM_Avg = 'X.1')
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('X.1' = 'moisture_NUM_Avg')
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('moisture_NUM_Avg' = 'X.1')
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('moisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('moisture_NUM_Avg' = 'X.1')
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('soilmoisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture')) %>%
dplyr::select(ends_with('Avg'))
westhydric_avg_test =
westhydric_dlname %>%
dplyr::rename('soilmoisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture'),
starts_with('soiltemperature'),
starts_with("soilsalinity")) %>%
dplyr::select(ends_with('Avg'))
moisture_separate <- function(dat){
dat %>%
dplyr::rename('soilmoisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture'),
starts_with('soiltemperature'),
starts_with("soilsalinity")) %>%
dplyr::select(ends_with('Avg')) %>%
force()
}
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'moisture_NUM_Avg')
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'soilmoisture_NUM_Avg')
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg)
View(westhydric_moisture)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("moisture_NUM_Avg", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = "moisture_avg", values_to = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = "moisture_avg", values_to = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg)
View(westhydric_moisture)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg,
moisture_15 = soilmoisture15cm_Avg,
moisture_25 = soilmoisture25cm_Avg,
)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg,
moisture_15 = soilmoisture15cm_Avg,
moisture_25 = soilmoisture25cm_Avg,
temp_5 = soiltemperature5cm_Avg,
temp_15 = soiltemperature15cm_Avg,
temp_25 = soiltemperature25cm_Avg,
temp_5 = soilsalinity5cm_Avg,
temp_15 = soilsalinity15cm_Avg,
temp_25 = soilsalinity25cm_Avg
)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg,
moisture_15 = soilmoisture15cm_Avg,
moisture_25 = soilmoisture25cm_Avg,
temp_5 = soiltemperature5cm_Avg,
temp_15 = soiltemperature15cm_Avg,
temp_25 = soiltemperature25cm_Avg,
salinity_5 = soilsalinity5cm_Avg,
salinity_15 = soilsalinity15cm_Avg,
salinity_25 = soilsalinity25cm_Avg
)
westhydric_moisture =
moisture_separate(westhydric_dlname)
moisture_separate <- function(dat){
dat %>%
dplyr::rename('soilmoisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture'),
starts_with('soiltemperature'),
starts_with("soilsalinity")) %>%
dplyr::select(ends_with('Avg')) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg,
moisture_15 = soilmoisture15cm_Avg,
moisture_25 = soilmoisture25cm_Avg,
temp_5 = soiltemperature5cm_Avg,
temp_15 = soiltemperature15cm_Avg,
temp_25 = soiltemperature25cm_Avg,
salinity_5 = soilsalinity5cm_Avg,
salinity_15 = soilsalinity15cm_Avg,
salinity_25 = soilsalinity25cm_Avg
) %>%
force()
}
westhydric_moisture =
moisture_separate(westhydric_dlname)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg')
westmesic_avg =
avg_separate(westmesic_dlname) %>%
left_join(westmesic_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = "redox_avg", names_sep= "_", values_to = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("moisture_avg", "temp_avg", "salinity_avg"), names_sep= "_", values_to = "avg_values")
View(westhydric_moisture)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("moisture_avg", "temp_avg", "salinity_avg"), names_sep= "_", values_to = c('moisture_avg_values', "temp_avg_values", "salinity_avg_values"))
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values')
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != redox)
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox')
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = c("type"), values_from = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
moisture_separate <- function(dat){
dat %>%
dplyr::rename('soilmoisture_NUM_Avg' = 'X.1') %>%
# dplyr::select(c('X') &
dplyr::select(starts_with('soilmoisture'),
starts_with('soiltemperature'),
starts_with("soilsalinity")) %>%
dplyr::select(ends_with('Avg')) %>%
dplyr::rename(redox_NUM_Avg = soilmoisture_NUM_Avg,
moisture_5 = soilmoisture5cm_Avg,
moisture_15 = soilmoisture15cm_Avg,
moisture_25 = soilmoisture25cm_Avg,
temp_5 = soiltemperature5cm_Avg,
temp_15 = soiltemperature15cm_Avg,
temp_25 = soiltemperature25cm_Avg,
salinity_5 = soilsalinity5cm_Avg,
salinity_15 = soilsalinity15cm_Avg,
salinity_25 = soilsalinity25cm_Avg
) %>%
force()
}
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
westmesic_moisture =
moisture_separate(westmesic_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
westdry_moisture =
moisture_separate(westdry_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
easthydric_moisture =
moisture_separate(easthydric_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
eastmesic_moisture =
moisture_separate(eastmesic_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
moisture_combine =
westhydric_moisture %>%
bind_rows(easthydric_moisture, westmesic_moisture, eastmesic_moisture, westdry_moisture, eastdry_moisture)
View(moisture_combine)
View(eastdry_moisture)
View(eastdry_metadata)
View(eastdry_dlname)
View(eastdry_moisture)
eastdry_moisture =
moisture_separate(eastdry_dlname)
View(eastdry_moisture)
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
-select(soiltemperature_Avg)
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
-select('soiltemperature_Avg')
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
select(-c('soiltemperature_Avg'))
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
dplyr::select(-soiltemperature_Avg)
eastdry_moisture =
moisture_separate(eastdry_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
View(eastmesic_moisture)
eastmesic_moisture =
moisture_separate(eastmesic_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
View(easthydric_moisture)
easthydric_moisture =
moisture_separate(easthydric_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
View(westdry_moisture)
westdry_moisture =
moisture_separate(westdry_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
westmesic_moisture =
moisture_separate(westmesic_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
westhydric_moisture =
moisture_separate(westhydric_dlname) %>%
#dplyr::select(-soiltemperature_Avg) %>%
left_join(westhydric_metadata, by = 'redox_NUM_Avg') %>%
pivot_longer(-c("redox_NUM_Avg", "X", "TIMESTAMP", "RECORD", "site", "position", "Betterdate"),
names_to = c("type", "depth"), names_sep= "_", values_to = 'avg_values') %>%
filter(type != 'redox') %>%
pivot_wider(names_from = "type", values_from = "avg_values")
moisture_combine =
westhydric_moisture %>%
bind_rows(easthydric_moisture, westmesic_moisture, eastmesic_moisture, westdry_moisture, eastdry_moisture)
View(moisture_combine)
moisture_combine =
westhydric_moisture %>%
bind_rows(easthydric_moisture, westmesic_moisture, eastmesic_moisture, westdry_moisture, eastdry_moisture) %>%
na.omit()
write.csv(moisture_combine, "processed/moisture_temp_salinity_avgs_combine.csv")
View(eastmesic_dlname)
